(this["webpackJsonpmastershane.github.io"]=this["webpackJsonpmastershane.github.io"]||[]).push([[0],{14:function(e,t,r){},15:function(e,t,r){},17:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r(2),l=r.n(n),s=r(7),a=r.n(s),i=(r(14),r(1)),o=r(8),u=(r(15),{r:"Red",b:"Blue",g:"Green",y:"Yellow",w:"White"}),d={o:"Oasis",d:"Desert"},h=function(e){return{tiles:e.toLowerCase().split(",").map((function(e){var t={camels:[]};return e.split("").forEach((function(e){switch(e){case"r":case"b":case"g":case"y":case"w":t.camels.push(u[e]);break;case"o":case"d":t.hazard=d[e];break;default:throw new Error("Unsupported Character ".concat(e," found in camel string"))}})),t}))}},j=function(e){return e.split("").map((function(e){return{color:u[e]}}))},b=function(e){return e.tiles.map((function(e){if(e.hazard)switch(e.hazard){case"Oasis":return"o";case"Desert":return"d"}return e.camels.map(f).join("")})).join(",")},f=function(e){switch(e){case"Red":return"r";case"Green":return"g";case"Blue":return"b";case"White":return"w";case"Yellow":return"y"}},m=r(5),O=function(e,t){var r={Red:{first:0,second:0},Blue:{first:0,second:0},Green:{first:0,second:0},White:{first:0,second:0},Yellow:{first:0,second:0}},c=e.tiles.map((function(e,t){return{tile:e,hits:0}})),n=function(e){var t,r,c=e.length,n=[e.slice()],l=new Array(c).fill(0),s=1;for(;s<c;)l[s]<s?(t=s%2&&l[s],r=e[s],e[s]=e[t],e[t]=r,++l[s],s=1,n.push(e.slice())):(l[s]=0,++s);return n}(t),l=[];n.forEach((function(e){var t=function t(r,c){if(r>=e.length)return[];var n=e[r],l=[1,2,3].map((function(e){return{color:n.color,Roll:e,nextRolls:[]}}));return c&&c.forEach((function(e){return e.nextRolls=l})),t(r+1,l),l}(0),r=function e(t,r){var c=Object(m.a)(r);c.push(t),t.nextRolls.length?t.nextRolls.forEach((function(t){e(t,c)})):l.push(c)};t.forEach((function(e){return r(e,[])}))})),l.forEach((function(t){var n=p(e,t);r[n.first].first=r[n.first].first+1,r[n.second].second=r[n.second].second+1,n.tileHits.forEach((function(e,t){c[t].hits=c[t].hits+e.hits}))}));var s=function(e,t,r){return e*r+1*t+-1*(1-(e+t))},a={camelOdds:Object.keys(r).map((function(e){var t=r[e],c=t.first/l.length,n=t.second/l.length;return{camel:e,firstPlaceOdds:c,secondPlaceOdds:n,fiveValue:s(c,n,5),threeValue:s(c,n,3),twoValue:s(c,n,2)}})),desertHit:[],oasisHits:[]};return c.forEach((function(e){if(e.tile.hazard)switch(e.tile.hazard){case"Desert":a.desertHit.push(e.hits/l.length);break;case"Oasis":a.oasisHits.push(e.hits/l.length)}})),a},p=function(e,t){var r={tiles:Object(m.a)(e.tiles.map((function(e){return{camels:Object(m.a)(e.camels),hazard:e.hazard}})))},c=e.tiles.map((function(e,t){return{tile:e,hits:0}}));t.forEach((function(e){var t=x(r,e);t<c.length&&c[t].hits++}));for(var n=[],l=r.tiles.length-1;l>=0;l--)for(var s=r.tiles[l],a=s.camels.length-1;a>=0;a--)if(n.push(s.camels[a]),2===n.length)return{first:n[0],second:n[1],tileHits:c};throw Error("this code should not be reached")},x=function(e,t){var r=e.tiles.findIndex((function(e){return e.camels.indexOf(t.color)>-1})),c=e.tiles[r],n=c.camels.splice(c.camels.indexOf(t.color)),l=function(t){if(t>=e.tiles.length)for(var r=e.tiles.length-1;r<t;r++)e.tiles.push({camels:[]})},s=function(e,t){e.forEach((function(e){t.camels.push(e)}))},a=r+t.Roll;l(a);var i=e.tiles[a];if("Desert"===i.hazard){var o=e.tiles[a-1],u=o.camels;o.camels=[],s(n,o),s(u,o)}else if("Oasis"===i.hazard){var d=a+1;l(d),s(n,e.tiles[d])}else s(n,i);return a},v=function(){for(var e=[{color:"Red"},{color:"Green"},{color:"White"},{color:"Blue"},{color:"Yellow"}],t={tiles:[{camels:[]},{camels:[]},{camels:[]}]};e.length;){var r=g(e);t.tiles[r.Roll-1].camels.push(r.color)}return t},g=function(e){var t=Math.floor(Math.random()*e.length),r=e.splice(t,1)[0],c=Math.floor(3*Math.random())+1;return Object(i.a)(Object(i.a)({},r),{},{Roll:c})};var w=function(){var e=Object(n.useState)({boardInput:b(v()),diceInput:"rgbyw"}),t=Object(o.a)(e,2),r=t[0],l=t[1];return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{children:"\ud83d\udc2a The Camelculator \ud83d\udc2a"}),Object(c.jsx)("h3",{children:"Camel (C)up Calculator"}),Object(c.jsx)("p",{children:'Enter a game state using camel code. Separate spaces with a ",". Camels stack so that the right most camel will be on top. Example: rw,,o,gby'}),Object(c.jsx)("h3",{children:"Key:"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"r: Red Camel"}),Object(c.jsx)("li",{children:"g: Green Camel"}),Object(c.jsx)("li",{children:"w: White Camel"}),Object(c.jsx)("li",{children:"b: Blue Camel"}),Object(c.jsx)("li",{children:"y: Yellow Camel"}),Object(c.jsx)("li",{children:"d: Desert"}),Object(c.jsx)("li",{children:"o: Oasis"})]}),Object(c.jsxs)("form",{onSubmit:function(e){!function(){try{var t=h(r.boardInput),c=j(r.diceInput),n=O(t,c);l(Object(i.a)(Object(i.a)({},r),{},{results:n,error:void 0}))}catch(e){l(Object(i.a)(Object(i.a)({},r),{},{error:"Error made during calculation"})),console.log(e)}}(),e.preventDefault()},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"camel-code",children:"Camel Code "}),Object(c.jsx)("input",{className:"form-control",type:"text",id:"camel-code",spellCheck:"false",value:r.boardInput,onChange:function(e){return l(Object(i.a)(Object(i.a)({},r),{},{boardInput:e.target.value}))}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"dice",children:"Remaining Dice "}),Object(c.jsx)("input",{className:"form-control",type:"text",id:"dice",spellCheck:"false",value:r.diceInput,onChange:function(e){return l(Object(i.a)(Object(i.a)({},r),{},{diceInput:e.target.value}))}})]}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{className:"btn btn-primary",type:"submit",value:"Calculate!"}),r.results&&Object(c.jsxs)("select",{className:"form-select",onChange:function(e){try{var t=e.target.value.split("_"),c=t[0],n={color:c,Roll:parseInt(t[1])},s=h(r.boardInput);x(s,n);var a=r.diceInput.replace(f(c),"");a||(a="rwgby",s.tiles.forEach((function(e){return e.hazard=void 0})));var o=j(a),u=O(s,o);l({boardInput:b(s),diceInput:a,results:u})}catch(e){l(Object(i.a)(Object(i.a)({},r),{},{error:"Error made during calculation"})),console.log(e)}},value:"_",style:{marginTop:"10px"},children:[Object(c.jsx)("option",{selected:!0,disabled:!0,value:"_",children:"Select Next Roll"}),j(r.diceInput).map((function(e){return Object(c.jsxs)("optgroup",{label:e.color,children:[Object(c.jsx)("option",{value:e.color+"_1",children:e.color+" 1"}),Object(c.jsx)("option",{value:e.color+"_2",children:e.color+" 2"}),Object(c.jsx)("option",{value:e.color+"_3",children:e.color+" 3"})]})}))]})]}),Object(c.jsx)("br",{}),r.error&&Object(c.jsx)("div",{className:"alert alert-danger",role:"alert",children:r.error}),r.results&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("table",{className:"table table-bordered",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Camel"}),Object(c.jsx)("th",{children:"Five Value"}),Object(c.jsx)("th",{children:"Three Value"}),Object(c.jsx)("th",{children:"Two Value"}),Object(c.jsx)("th",{children:"First Place Odds"}),Object(c.jsx)("th",{children:"Second Place Odds"})]})}),Object(c.jsx)("tbody",{children:r.results.camelOdds.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"row",children:e.camel}),Object(c.jsx)("td",{children:+e.fiveValue.toFixed(3)}),Object(c.jsx)("td",{children:+e.threeValue.toFixed(3)}),Object(c.jsx)("td",{children:+e.twoValue.toFixed(3)}),Object(c.jsx)("td",{children:+e.firstPlaceOdds.toFixed(3)}),Object(c.jsx)("td",{children:+e.secondPlaceOdds.toFixed(3)})]},e.camel)}))})]}),r.results.desertHit.map((function(e,t){return Object(c.jsxs)("div",{children:["Desert ",t+1," value: ",+e.toFixed(3)]})})),r.results.oasisHits.map((function(e,t){return Object(c.jsxs)("div",{children:["Oasis ",t+1," value: ",+e.toFixed(3)]})}))]})]})},C=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,18)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,l=t.getLCP,s=t.getTTFB;r(e),c(e),n(e),l(e),s(e)}))};r(16);a.a.render(Object(c.jsx)(l.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),C()}},[[17,1,2]]]);
//# sourceMappingURL=main.bdbe744d.chunk.js.map